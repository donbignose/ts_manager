{% extends "base.html" %}
{% load i18n %}
{% block title %}Table Soccer League{% endblock %}
{% block body %}
    <header>
        <nav class="block w-full max-w-screen-lg px-4 py-2 mx-auto bg-white dark:bg-gray-900 shadow-md rounded-md lg:px-8 lg:py-3 mt-10">
            <div class="container flex flex-wrap items-center justify-between mx-auto text-slate-800">
                <a href="{% url 'home' %}"
                   class="mr-4 block cursor-pointer py-1.5 text-base text-slate-800 dark:text-white font-semibold">{% trans "Home" %}</a>
                <div class="hidden lg:block">
                    <ul class="flex flex-col gap-2 mt-2 mb-4 lg:mb-0 lg:mt-0 lg:flex-row lg:items-center lg:gap-6">
                        <li class="flex items-center p-1 text-sm gap-x-2 text-slate-600 dark:text-white">
                            <a href="{% url 'active_league' %}"
                               class="flex items-center {% if request.path == '/active-league/' %}font-bold text-blue-500{% endif %}">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     fill="none"
                                     viewBox="0 0 24 24"
                                     stroke-width="1.5"
                                     stroke="currentColor"
                                     class="h-6 w-6 text-slate-500">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
                                </svg>
                                {% trans "League" %}
                            </a>
                        </li>
                        <li class="flex items-center p-1 text-sm gap-x-2 text-slate-600 dark:text-white">
                            <a href="{% url 'team_list' %}"
                               class="flex items-center {% if request.path == '/teams/' %}font-bold text-blue-500{% endif %}">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     fill="none"
                                     viewBox="0 0 24 24"
                                     stroke-width="1.5"
                                     stroke="currentColor"
                                     class="h-6 w-6 text-slate-500">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                </svg>
                                {% trans "Teams" %}
                            </a>
                        </li>
                        <li class="flex items-center p-1 text-sm gap-x-2 text-slate-600 dark:text-white">
                            <a href="{% url 'player_list' %}"
                               class="flex items-center {% if request.path == '/players/' %}font-bold text-blue-500{% endif %}">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     fill="none"
                                     viewBox="0 0 24 24"
                                     stroke-width="1.5"
                                     stroke="currentColor"
                                     class="h-6 w-6 text-slate-500">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z" />
                                </svg>
                                {% trans "Players" %}
                            </a>
                        </li>
                        {% if user.is_authenticated %}
                            <li class="flex items-center p-1 text-sm gap-x-2 text-slate-600 dark:text-white">
                                <a href="{% url 'account_logout' %}" class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                         fill="none"
                                         viewBox="0 0 24 24"
                                         stroke-width="1.5"
                                         stroke="currentColor"
                                         class="h-6 w-6 text-slate-500">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z" />
                                    </svg>
                                    {% trans "Logout" %}
                                </a>
                                <span>{% trans "Welcome" %}, {{ user.username }}!</span>
                            </li>
                        {% else %}
                            <li class="flex items-center p-1 text-sm gap-x-2 text-slate-600 dark:text-white">
                                <a href="{% url 'account_login' %}" class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                         fill="none"
                                         viewBox="0 0 24 24"
                                         stroke-width="1.5"
                                         stroke="currentColor"
                                         class="h-6 w-6 text-slate-500">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z" />
                                    </svg>
                                    {% trans "Login" %}
                                </a>
                            </li>
                        {% endif %}
                        <li class="flex items-center p-1 text-sm gap-x-2 text-slate-600 dark:text-white">
                            <button id="theme-toggle"
                                    class="p-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-900 dark:text-gray-100">
                                <i class="fa-solid fa-circle-half-stroke fa-lg"></i>
                            </button>
                        </li>
                    </ul>
                </div>
                <button data-collapse-target="collapse"
                        class="relative ml-auto h-6 max-h-[40px] w-6 max-w-[40px] select-none rounded-lg text-center align-middle text-xs font-medium uppercase text-inherit transition-all hover:bg-transparent focus:bg-transparent active:bg-transparent disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none lg:hidden"
                        type="button">
                    <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="w-6 h-6 dark:text-white"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </span>
                </button>
                <div data-collapse="collapse"
                     class="block h-0 w-full basis-full overflow-hidden">
                    <div class="overflow-hidden pb-1 lg:overflow-visible">
                        <div class="flex w-full flex-col justify-end lg:!ml-auto lg:flex-row">
                            <nav class="flex flex-col gap-1 p-2 font-sans text-base font-normal text-blue-gray-700  min-w-max px-0 lg:!flex-row">
                                <a class="flex items-center gap-1 cursor-pointer rounded-lg py-2.5 px-4 text-sm text-blue-gray-800 dark:text-white hover:text-primary hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80 hover:text-primary focus:text-primary active:text-primary transition-all leading-none"
                                   aria-expanded="false"
                                   aria-haspopup="menu"
                                   id=":RbclkmH2:"
                                   href="{% url 'active_league' %}">{% trans "League" %}</a>
                                <a href="{% url 'team_list' %}">
                                    <div role="button"
                                         tabindex="0"
                                         class="flex items-center w-full p-3 rounded-lg text-start transition-all hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80 focus:text-blue-gray-900 active:text-blue-gray-900 outline-none px-4 py-2.5 text-sm text-blue-gray-800 dark:text-white hover:text-primary">
                                        {% trans "Teams" %}
                                    </div>
                                </a>
                                <a href="{% url 'player_list' %}">
                                    <div role="button"
                                         tabindex="0"
                                         class="flex items-center w-full p-3 rounded-lg text-start transition-all hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80 focus:text-blue-gray-900 active:text-blue-gray-900 outline-none px-4 py-2.5 text-sm text-blue-gray-800 dark:text-white hover:text-primary">
                                        {% trans "Players" %}
                                    </div>
                                </a>
                                {% if user.is_authenticated %}
                                    <a href="{% url 'account_logout' %}">
                                        <div role="button"
                                             tabindex="0"
                                             class="flex items-center w-full p-3 rounded-lg text-start transition-all hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80 focus:text-blue-gray-900 active:text-blue-gray-900 outline-none px-4 py-2.5 text-sm text-blue-gray-800 dark:text-white hover:text-primary">
                                            {% trans "Logout" %}
                                        </div>
                                    </a>
                                {% else %}
                                    <a href="{% url 'account_login' %}">
                                        <div role="button"
                                             tabindex="0"
                                             class="flex items-center w-full p-3 rounded-lg text-start transition-all hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80 focus:text-blue-gray-900 active:text-blue-gray-900 outline-none px-4 py-2.5 text-sm text-blue-gray-800 dark:text-white hover:text-primary">
                                            {% trans "Login" %}
                                        </div>
                                    </a>
                                {% endif %}
                                {# <button id="theme-toggle-mobile" #}
                                {#         class="p-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-900 dark:text-gray-100"> #}
                                {#     <svg id="theme-toggle-dark-icon" #}
                                {#          xmlns="http://www.w3.org/2000/svg" #}
                                {#          class="w-6 h-6 hidden" #}
                                {#          fill="none" #}
                                {#          viewBox="0 0 24 24" #}
                                {#          stroke="currentColor"> #}
                                {#         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8-9h1M4 12H3m12.364 4.364l.707-.707m-8.486 0l-.707.707M16.95 7.05l.707-.707m-8.486 0l-.707.707M12 5a7 7 0 1 1-7 7h1" /> #}
                                {#     </svg> #}
                                {#     <svg id="theme-toggle-light-icon" #}
                                {#          xmlns="http://www.w3.org/2000/svg" #}
                                {#          class="w-6 h-6 hidden" #}
                                {#          fill="none" #}
                                {#          viewBox="0 0 24 24" #}
                                {#          stroke="currentColor"> #}
                                {#         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12h1M4 12H3m1.707-5.707l.707.707m12.728 12.728l-.707.707M6.343 6.343l.707-.707m12.728 12.728l-.707.707M12 3v1m0 16v1m4.242-10.242a6 6 0 1 1-8.485 0 6 6 0 0 1 8.485 0z" /> #}
                                {#     </svg> #}
                                {# </button> #}
                                <button id="theme-toggle-mobile"
                                        class="p-2 rounded-lg bg-gray-200 dark:bg-gray-600 text-gray-900 dark:text-gray-100">
                                    <svg id="theme-toggle-dark-icon" class="w-6 h-6">
                                        <i class="fa-solid fa-circle-half-stroke"></i>
                                    </svg>
                                </button>
                            </nav>
                        </div>
                    </div>
                    <script src="https://unpkg.com/@material-tailwind/html@latest/scripts/collapse.js"></script>
                    <script>
                        // Dark Mode Toggle Script
                        const themeToggle = document.getElementById('theme-toggle');
                        const themeMobileToggle = document.getElementById('theme-toggle-mobile');
                        {# const darkIcon = document.getElementById('theme-toggle-dark-icon'); #}
                        {# const lightIcon = document.getElementById('theme-toggle-light-icon'); #}

                        // Set the icons visibility based on the theme
                        const updateIcons = () => {
                            if (document.documentElement.classList.contains('dark')) {
                                darkIcon.classList.remove('hidden');
                                lightIcon.classList.add('hidden');
                            } else {
                                lightIcon.classList.remove('hidden');
                                darkIcon.classList.add('hidden');
                            }
                        };

                        {# updateIcons(); #}

                        themeToggle.addEventListener('click', () => {
                            document.documentElement.classList.toggle('dark');
                            if (document.documentElement.classList.contains('dark')) {
                                localStorage.setItem('theme', 'dark');
                            } else {
                                localStorage.setItem('theme', 'light');
                            }
                            // Update icons
                            {# updateIcons(); #}
                        });
                        themeMobileToggle.addEventListener('click', () => {
                            document.documentElement.classList.toggle('dark');
                            if (document.documentElement.classList.contains('dark')) {
                                localStorage.setItem('theme', 'dark');
                            } else {
                                localStorage.setItem('theme', 'light');
                            }
                            // Update icons
                            {# updateIcons(); #}
                        });
                    </script>
                </nav>
            </header>
            <main class="block w-full max-w-screen-lg mx-auto px-4 py-2 bg-white dark:bg-gray-900 shadow-md rounded-md lg:px-8 lg:py-3 my-10">
                {% block content %}{% endblock %}
            </main>
        {% endblock %}
